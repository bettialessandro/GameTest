<div class="border-left"></div>

<Score score="@_gameManager.score"></Score>

<div class="game-container" tabindex="0" @onclick="_gameManager.StartGame" @onkeyup="HandleKeyUp">
    <div class="border-top"></div>

    <div class="sky">


        <Bird Model="_gameManager.Bird"></Bird>
    </div>

    <div class="ground"></div>

    @foreach (PipeModel pipe in _gameManager.Pipes)
    {
        <Pipe Model="pipe"></Pipe>

    }



</div>
<div class="border-right"></div>

@code{

  

    GameManager _gameManager;

    protected override void OnInitialized()
    {

        _gameManager = new GameManager();
        _gameManager.MainLoopCompleted += (o, e) => StateHasChanged();
    }

    void StartGame()
    {
        _gameManager.MainLoop();
        
    }


    void HandleKeyUp(KeyboardEventArgs e)
    {
        if (e.Key == " ")
        {
            _gameManager.Jump();
        }


    }

}